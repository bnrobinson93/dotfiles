#!/usr/bin/env bash
# Wrapper for jj fix: tries project-local prettier, falls back to Mason
MASON_BIN="${XDG_DATA_HOME:-$HOME/.local/share}/nvim/mason/bin"

if pnpm exec prettier --version &>/dev/null; then
  exec pnpm exec prettier --stdin-filepath "$1"
elif [[ -x "$MASON_BIN/prettier" ]]; then
  exec "$MASON_BIN/prettier" --stdin-filepath "$1"
else
  cat # pass through unmodified
fi
